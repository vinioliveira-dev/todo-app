var todo_store;(()=>{"use strict";var t={609:(t,n,e)=>{function i(t){var n=arguments.length,e=void 0,i=void 0;for(e=1;e<n;e++)for(i in arguments[e])t[i]=arguments[e][i];return t}function r(t,n){var e,r,o=arguments.length,s=void 0;for(t.prototype=(e=n.prototype,(r=function(){}).prototype=e,new r),t.prototype.constructor=t,s=2;s<o;s++)i(t.prototype,arguments[s]);return t}e.d(n,{ZP:()=>xe}),t=e.hmd(t);var o=["<nothing>"],s="end",u="value",a="error",h="any";function l(t,n){var e=void 0,i=void 0,r=void 0,o=void 0;if(0===t.length)return n;if(0===n.length)return t;for(o=0,e=new Array(t.length+n.length),i=t.length,r=0;r<i;r++,o++)e[o]=t[r];for(i=n.length,r=0;r<i;r++,o++)e[o]=n[r];return e}function f(t,n){var e=t.length,i=void 0;for(i=0;i<e;i++)if(t[i]===n)return i;return-1}function _(t,n){var e=t.length,i=void 0;for(i=0;i<e;i++)if(n(t[i]))return i;return-1}function c(t){var n=t.length,e=new Array(n),i=void 0;for(i=0;i<n;i++)e[i]=t[i];return e}function d(t,n){var e=t.length,i=void 0,r=void 0,o=void 0;if(n>=0&&n<e){if(1===e)return[];for(i=new Array(e-1),r=0,o=0;r<e;r++)r!==n&&(i[o]=t[r],o++);return i}return t}function v(t,n){var e=t.length,i=new Array(e),r=void 0;for(r=0;r<e;r++)i[r]=n(t[r]);return i}function p(t,n,e){t===h?n(e):t===e.type&&(t===u||t===a?n(e.value):n())}function m(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}function y(){this._dispatcher=new m,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}function E(){y.call(this)}function g(){y.call(this),this._currentEvent=null}i(m.prototype,{add:function(t,n){return this._items=l(this._items,[{type:t,fn:n}]),this._items.length},remove:function(t,n){var e=_(this._items,(function(e){return e.type===t&&e.fn===n}));return 0!==this._inLoop&&-1!==e&&(null===this._removedItems&&(this._removedItems=[]),this._removedItems.push(this._items[e])),this._items=d(this._items,e),this._items.length},addSpy:function(t){return this._spies=l(this._spies,[t]),this._spies.length},removeSpy:function(t){return this._spies=d(this._spies,this._spies.indexOf(t)),this._spies.length},dispatch:function(t){this._inLoop++;for(var n=0,e=this._spies;null!==this._spies&&n<e.length;n++)e[n](t);for(var i=0,r=this._items;i<r.length&&null!==this._items;i++)null!==this._removedItems&&-1!==f(this._removedItems,r[i])||p(r[i].type,r[i].fn,t);this._inLoop--,0===this._inLoop&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}}),i(y.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(t){this._active!==t&&(this._active=t,t?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(t,n){switch(t){case u:return this._emitValue(n);case a:return this._emitError(n);case s:return this._emitEnd()}},_emitValue:function(t){this._alive&&this._dispatcher.dispatch({type:u,value:t})},_emitError:function(t){this._alive&&this._dispatcher.dispatch({type:a,value:t})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:s}),this._clear())},_on:function(t,n){return this._alive?(this._dispatcher.add(t,n),this._setActive(!0)):p(t,n,{type:s}),this},_off:function(t,n){return this._alive&&0===this._dispatcher.remove(t,n)&&this._setActive(!1),this},onValue:function(t){return this._on(u,t)},onError:function(t){return this._on(a,t)},onEnd:function(t){return this._on(s,t)},onAny:function(t){return this._on(h,t)},offValue:function(t){return this._off(u,t)},offError:function(t){return this._off(a,t)},offEnd:function(t){return this._off(s,t)},offAny:function(t){return this._off(h,t)},observe:function(t,n,e){var i=this,r=!1,o=t&&"function"!=typeof t?t:{value:t,error:n,end:e},h=function(t){t.type===s&&(r=!0),t.type===u&&o.value?o.value(t.value):t.type===a&&o.error?o.error(t.value):t.type===s&&o.end&&o.end(t.value)};return this.onAny(h),{unsubscribe:function(){r||(i.offAny(h),r=!0)},get closed(){return r}}},_ofSameType:function(t,n){return t.prototype.getType()===this.getType()?t:n},setName:function(t,n){return this._name=n?t._name+"."+n:t,this},log:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString(),n=void 0,e=function(e){var i="<"+e.type+(n?":current":"")+">";e.type===s?console.log(t,i):console.log(t,i,e.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:t,handler:e})),n=!0,this.onAny(e),n=!1,this},offLog:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString();if(this._logHandlers){var n=_(this._logHandlers,(function(n){return n.name===t}));-1!==n&&(this.offAny(this._logHandlers[n].handler),this._logHandlers.splice(n,1))}return this},spy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString(),n=function(n){var e="<"+n.type+">";n.type===s?console.log(t,e):console.log(t,e,n.value)};return this._alive&&(this._spyHandlers||(this._spyHandlers=[]),this._spyHandlers.push({name:t,handler:n}),this._dispatcher.addSpy(n)),this},offSpy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString();if(this._spyHandlers){var n=_(this._spyHandlers,(function(n){return n.name===t}));-1!==n&&(this._dispatcher.removeSpy(this._spyHandlers[n].handler),this._spyHandlers.splice(n,1))}return this}}),y.prototype.toString=function(){return"["+this._name+"]"},r(E,y,{_name:"stream",getType:function(){return"stream"}}),r(g,y,{_name:"property",_emitValue:function(t){this._alive&&(this._currentEvent={type:u,value:t},this._activating||this._dispatcher.dispatch({type:u,value:t}))},_emitError:function(t){this._alive&&(this._currentEvent={type:a,value:t},this._activating||this._dispatcher.dispatch({type:a,value:t}))},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:s}),this._clear())},_on:function(t,n){return this._alive&&(this._dispatcher.add(t,n),this._setActive(!0)),null!==this._currentEvent&&p(t,n,this._currentEvent),this._alive||p(t,n,{type:s}),this},getType:function(){return"property"}});var b=new E;function w(){return b}function S(t){function n(t,n){var e=this;E.call(this),this._wait=t,this._intervalId=null,this._$onTick=function(){return e._onTick()},this._init(n)}return r(n,E,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){E.prototype._clear.call(this),this._$onTick=null,this._free()}},t),n}b._emitEnd(),b._name="never";var A=S({_name:"later",_init:function(t){var n=t.x;this._x=n},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}}),T=S({_name:"interval",_init:function(t){var n=t.x;this._x=n},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}}),V=S({_name:"sequentially",_init:function(t){var n=t.xs;this._xs=c(n)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}}),O=S({_name:"fromPoll",_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_onTick:function(){var t=this._fn;this._emitValue(t())}});function C(t){function n(n){return t._emitValue(n),t._active}function e(n){return t._emit(n.type,n.value),t._active}return{value:n,error:function(n){return t._emitError(n),t._active},end:function(){return t._emitEnd(),t._active},event:e,emit:n,emitEvent:e}}var $=S({_name:"withInterval",_init:function(t){var n=t.fn;this._fn=n,this._emitter=C(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){(0,this._fn)(this._emitter)}});function I(t){E.call(this),this._fn=t,this._unsubscribe=null}function P(t){return new I(t)}function k(t,n){switch(n){case 0:return function(){return t()};case 1:return function(n){return t(n[0])};case 2:return function(n){return t(n[0],n[1])};case 3:return function(n){return t(n[0],n[1],n[2])};case 4:return function(n){return t(n[0],n[1],n[2],n[3])};default:return function(n){return t.apply(null,n)}}}r(I,E,{_name:"stream",_onActivation:function(){var t=(0,this._fn)(C(this));this._unsubscribe="function"==typeof t?t:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){E.prototype._clear.call(this),this._fn=null}});var x=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];function L(t){this._currentEvent={type:"value",value:t,current:!0}}function D(t){return new L(t)}function N(t){this._currentEvent={type:"error",value:t,current:!0}}function R(t,n){return function(e,i){var r=this;t.call(this),this._source=e,this._name=e._name+"."+n,this._init(i),this._$handleAny=function(t){return r._handleAny(t)}}}function M(t){return{_init:function(){},_free:function(){},_handleValue:function(t){this._emitValue(t)},_handleError:function(t){this._emitError(t)},_handleEnd:function(){this._emitEnd()},_handleAny:function(t){switch(t.type){case u:return this._handleValue(t.value);case a:return this._handleError(t.value);case s:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){t.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function j(t,n){var e=R(E,t);return r(e,E,M(E),n),e}function H(t,n){var e=R(g,t);return r(e,g,M(g),n),e}r(L,g,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),r(N,g,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});var U=H("toProperty",{_init:function(t){var n=t.fn;this._getInitialCurrent=n},_onActivation:function(){if(null!==this._getInitialCurrent){var t=this._getInitialCurrent;this._emitValue(t())}this._source.onAny(this._$handleAny)}});function B(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==n&&"function"!=typeof n)throw new Error("You should call toProperty() with a function or no arguments.");return new U(t,{fn:n})}var W=j("changes",{_handleValue:function(t){this._activating||this._emitValue(t)},_handleError:function(t){this._activating||this._emitError(t)}});function q(){if("function"==typeof Promise)return Promise;throw new Error("There isn't default Promise, use shim or parameter")}var F=function(t){var n,e=t.Symbol;return"function"==typeof e?e.observable?n=e.observable:(n=e("observable"),e.observable=n):n="@@observable",n}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e.g?e.g:t),Q=F.default?F.default:F;function Y(t){this._observable=t.takeErrors(1)}function Z(){return new Y(this)}function z(t,n,e){for(var i in t)t.hasOwnProperty(i)&&(n.push(i),e.push(t[i]))}function K(t,n,e){var i=this;E.call(this),this._activeCount=t.length,this._sources=l(t,n),this._combinator=e,this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),function(t,n){var e=t.length,i=void 0;for(i=0;i<e;i++)t[i]=n}(this._latestValues,o),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var r=function(t){i._$handlers.push((function(n){return i._handleAny(t,n)}))},s=0;s<this._sources.length;s++)r(s)}function X(t,n,e){return"function"==typeof n&&(e=n,n=void 0),Array.isArray(t)?function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments[2];if(!Array.isArray(n))throw new Error("Combine can only combine active and passive collections of the same type.");return e=e?k(e,t.length+n.length):function(t){return t},0===t.length?w():new K(t,n,e)}(t,n,e):function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments[2];if("object"!=typeof n||Array.isArray(n))throw new Error("Combine can only combine active and passive collections of the same type.");var i=[],r=[],o=[];return z(t,i,r),z(n,i,o),0===r.length?w():new K(r,o,(function(t){for(var n={},r=t.length-1;0<=r;r--)n[i[r]]=t[r];return e?e(n):n}))}(t,n,e)}i(Y.prototype,{subscribe:function(t,n,e){var i=this,r="function"==typeof t?{next:t,error:n,complete:e}:t,o=function(t){t.type===s&&(h=!0),t.type===u&&r.next?r.next(t.value):t.type===a&&r.error?r.error(t.value):t.type===s&&r.complete&&r.complete(t.value)};this._observable.onAny(o);var h=!1;return{unsubscribe:function(){h=!0,i._observable.offAny(o)},get closed(){return h}}}}),Y.prototype[Q]=function(){return this},r(K,E,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var t=this._activeCount;t<this._sources.length;t++)this._sources[t].onAny(this._$handlers[t]);for(var n=0;n<this._activeCount;n++)this._sources[n].onAny(this._$handlers[n]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var t=this._sources.length,n=void 0;for(n=0;n<t;n++)this._sources[n].offAny(this._$handlers[n])},_emitIfFull:function(){for(var t=!0,n=!1,e=this._latestValues.length,i=new Array(e),r=new Array(e),s=0;s<e;s++)i[s]=this._latestValues[s],r[s]=this._latestErrors[s],i[s]===o&&(t=!1),void 0!==r[s]&&(n=!0);if(t){var u=this._combinator;this._emitValue(u(i))}n&&this._emitError(function(t){for(var n=void 0,e=0;e<t.length;e++)void 0!==t[e]&&(void 0===n||n.index<t[e].index)&&(n=t[e]);return n.error}(r))},_handleAny:function(t,n){n.type===u||n.type===a?(n.type===u&&(this._latestValues[t]=n.value,this._latestErrors[t]=void 0),n.type===a&&(this._latestValues[t]=o,this._latestErrors[t]={index:this._latestErrorIndex++,error:n.value}),t<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):t<this._activeCount&&(this._aliveCount--,0===this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){E.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});var G={empty:function(){return w()},concat:function(t,n){return t.merge(n)},of:function(t){return D(t)},map:function(t,n){return n.map(t)},bimap:function(t,n,e){return e.mapErrors(t).map(n)},ap:function(t,n){return X([t,n],(function(t,n){return t(n)}))},chain:function(t,n){return n.flatMap(t)}},J=Object.freeze({Observable:G}),tt={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;this._emitValue(n(t))}},nt=j("map",tt),et=H("map",tt),it=function(t){return t};function rt(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it;return new(t._ofSameType(nt,et))(t,{fn:n})}var ot={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){(0,this._fn)(t)&&this._emitValue(t)}},st=j("filter",ot),ut=H("filter",ot),at=function(t){return t},ht={_init:function(t){var n=t.n;this._n=n,n<=0&&this._emitEnd()},_handleValue:function(t){0!==this._n&&(this._n--,this._emitValue(t),0===this._n&&this._emitEnd())}},lt=j("take",ht),ft=H("take",ht),_t={_init:function(t){var n=t.n;this._n=n,n<=0&&this._emitEnd()},_handleError:function(t){0!==this._n&&(this._n--,this._emitError(t),0===this._n&&this._emitEnd())}},ct=j("takeErrors",_t),dt=H("takeErrors",_t),vt={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){(0,this._fn)(t)?this._emitValue(t):this._emitEnd()}},pt=j("takeWhile",vt),mt=H("takeWhile",vt),yt=function(t){return t},Et={_init:function(){this._lastValue=o},_free:function(){this._lastValue=null},_handleValue:function(t){this._lastValue=t},_handleEnd:function(){this._lastValue!==o&&this._emitValue(this._lastValue),this._emitEnd()}},gt=j("last",Et),bt=H("last",Et),wt={_init:function(t){var n=t.n;this._n=Math.max(0,n)},_handleValue:function(t){0===this._n?this._emitValue(t):this._n--}},St=j("skip",wt),At=H("skip",wt),Tt={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;null===this._fn||n(t)||(this._fn=null),null===this._fn&&this._emitValue(t)}},Vt=j("skipWhile",Tt),Ot=H("skipWhile",Tt),Ct=function(t){return t},$t={_init:function(t){var n=t.fn;this._fn=n,this._prev=o},_free:function(){this._fn=null,this._prev=null},_handleValue:function(t){var n=this._fn;this._prev!==o&&n(this._prev,t)||(this._prev=t,this._emitValue(t))}},It=j("skipDuplicates",$t),Pt=H("skipDuplicates",$t),kt=function(t,n){return t===n};function xt(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kt;return new(t._ofSameType(It,Pt))(t,{fn:n})}var Lt={_init:function(t){var n=t.fn,e=t.seed;this._fn=n,this._prev=e},_free:function(){this._prev=null,this._fn=null},_handleValue:function(t){if(this._prev!==o){var n=this._fn;this._emitValue(n(this._prev,t))}this._prev=t}},Dt=j("diff",Lt),Nt=H("diff",Lt);function Rt(t,n){return[t,n]}var Mt=H("scan",{_init:function(t){var n=t.fn,e=t.seed;this._fn=n,this._seed=e,e!==o&&this._emitValue(e)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(t){var n=this._fn;null===this._currentEvent||this._currentEvent.type===a?this._emitValue(this._seed===o?t:n(this._seed,t)):this._emitValue(n(this._currentEvent.value,t))}}),jt=j("flatten",{_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){for(var n=(0,this._fn)(t),e=0;e<n.length;e++)this._emitValue(n[e])}}),Ht=function(t){return t},Ut={},Bt={_init:function(t){var n=this,e=t.wait;this._wait=Math.max(0,e),this._buff=[],this._$shiftBuff=function(){var t=n._buff.shift();t===Ut?n._emitEnd():n._emitValue(t)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._buff.push(t),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(Ut),setTimeout(this._$shiftBuff,this._wait))}},Wt=j("delay",Bt),qt=H("delay",Bt),Ft=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},Qt={_init:function(t){var n=this,e=t.wait,i=t.leading,r=t.trailing;this._wait=Math.max(0,e),this._leading=i,this._trailing=r,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return n._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(t){if(this._activating)this._emitValue(t);else{var n=Ft();0!==this._lastCallTime||this._leading||(this._lastCallTime=n);var e=this._wait-(n-this._lastCallTime);e<=0?(this._cancelTrailing(),this._lastCallTime=n,this._emitValue(t)):this._trailing&&(this._cancelTrailing(),this._trailingValue=t,this._timeoutId=setTimeout(this._$trailingCall,e))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?Ft():0,this._endLater&&this._emitEnd()}},Yt=j("throttle",Qt),Zt=H("throttle",Qt),zt={_init:function(t){var n=this,e=t.wait,i=t.immediate;this._wait=Math.max(0,e),this._immediate=i,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return n._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._lastAttempt=Ft(),this._immediate&&!this._timeoutId&&this._emitValue(t),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=t))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var t=Ft()-this._lastAttempt;if(t<this._wait&&t>=0)this._timeoutId=setTimeout(this._$later,this._wait-t);else{if(this._timeoutId=null,!this._immediate){var n=this._laterValue;this._laterValue=null,this._emitValue(n)}this._endLater&&this._emitEnd()}}},Kt=j("debounce",zt),Xt=H("debounce",zt),Gt={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleError:function(t){var n=this._fn;this._emitError(n(t))}},Jt=j("mapErrors",Gt),tn=H("mapErrors",Gt),nn=function(t){return t},en={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleError:function(t){(0,this._fn)(t)&&this._emitError(t)}},rn=j("filterErrors",en),on=H("filterErrors",en),sn=function(t){return t},un={_handleValue:function(){}},an=j("ignoreValues",un),hn=H("ignoreValues",un),ln={_handleError:function(){}},fn=j("ignoreErrors",ln),_n=H("ignoreErrors",ln),cn={_handleEnd:function(){}},dn=j("ignoreEnd",cn),vn=H("ignoreEnd",cn),pn={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleEnd:function(){var t=this._fn;this._emitValue(t()),this._emitEnd()}},mn=j("beforeEnd",pn),yn=H("beforeEnd",pn),En={_init:function(t){var n=t.min,e=t.max;this._max=e,this._min=n,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(t){this._buff=function(t,n,e){var i=Math.min(e,t.length+1),r=t.length-i+1,o=new Array(i),s=void 0;for(s=r;s<i;s++)o[s-r]=t[s];return o[i-1]=n,o}(this._buff,t,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},gn=j("slidingWindow",En),bn=H("slidingWindow",En),wn={_init:function(t){var n=t.fn,e=t.flushOnEnd;this._fn=n,this._flushOnEnd=e,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),(0,this._fn)(t)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Sn=j("bufferWhile",wn),An=H("bufferWhile",wn),Tn=function(t){return t},Vn={_init:function(t){var n=t.count,e=t.flushOnEnd;this._count=n,this._flushOnEnd=e,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},On=j("bufferWithCount",Vn),Cn=H("bufferWithCount",Vn),$n={_init:function(t){var n=this,e=t.wait,i=t.count,r=t.flushOnEnd;this._wait=e,this._count=i,this._flushOnEnd=r,this._intervalId=null,this._$onTick=function(){return n._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&0!==this._buff.length&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},In=j("bufferWithTimeOrCount",$n),Pn=H("bufferWithTimeOrCount",$n),kn={_init:function(t){var n,e=t.transducer;this._xform=e((n=this,{"@@transducer/step":function(t,e){return n._emitValue(e),null},"@@transducer/result":function(){return n._emitEnd(),null}}))},_free:function(){this._xform=null},_handleValue:function(t){null!==this._xform["@@transducer/step"](null,t)&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},xn=j("transduce",kn),Ln=H("transduce",kn),Dn={_init:function(t){var n=t.fn;this._handler=n,this._emitter=C(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(t){this._handler(this._emitter,t)}},Nn=j("withHandler",Dn),Rn=H("withHandler",Dn),Mn=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function jn(t,n){var e=this;E.call(this),this._buffers=v(t,(function(t){return Mn(t)?c(t):[]})),this._sources=v(t,(function(t){return Mn(t)?w():t})),this._combinator=n?k(n,this._sources.length):function(t){return t},this._aliveCount=0,this._$handlers=[];for(var i=function(t){e._$handlers.push((function(n){return e._handleAny(t,n)}))},r=0;r<this._sources.length;r++)i(r)}function Hn(t,n){return 0===t.length?w():new jn(t,n)}r(jn,E,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var t=this._sources.length;this._aliveCount=t;for(var n=0;n<t&&this._active;n++)this._sources[n].onAny(this._$handlers[n])},_onDeactivation:function(){for(var t=0;t<this._sources.length;t++)this._sources[t].offAny(this._$handlers[t])},_emit:function(){for(var t=new Array(this._buffers.length),n=0;n<this._buffers.length;n++)t[n]=this._buffers[n].shift();var e=this._combinator;this._emitValue(e(t))},_isFull:function(){for(var t=0;t<this._buffers.length;t++)if(0===this._buffers[t].length)return!1;return!0},_handleAny:function(t,n){n.type===u&&(this._buffers[t].push(n.value),this._isFull()&&this._emit()),n.type===a&&this._emitError(n.value),n.type===s&&(this._aliveCount--,0===this._aliveCount&&this._emitEnd())},_clear:function(){E.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});var Un=function(t){return t};function Bn(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.queueLim,i=void 0===e?0:e,r=n.concurLim,o=void 0===r?-1:r,s=n.drop,u=void 0===s?"new":s;E.call(this),this._queueLim=i<0?-1:i,this._concurLim=o<0?-1:o,this._drop=u,this._queue=[],this._curSources=[],this._$handleSubAny=function(n){return t._handleSubAny(n)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}function Wn(t){Bn.call(this),this._addAll(t),this._initialised=!0}function qn(t){return 0===t.length?w():new Wn(t)}function Fn(t){var n=this;E.call(this),this._generator=t,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(t){return n._handleAny(t)}}r(Bn,E,{_name:"abstractPool",_add:function(t,n){n=n||Un,-1===this._concurLim||this._curSources.length<this._concurLim?this._addToCur(n(t)):-1===this._queueLim||this._queue.length<this._queueLim?this._addToQueue(n(t)):"old"===this._drop&&(this._removeOldest(),this._add(t,n))},_addAll:function(t){var n=this;!function(t,e){var i,r=t.length,o=void 0;for(o=0;o<r;o++)i=t[o],n._add(i)}(t)},_remove:function(t){-1===this._removeCur(t)&&this._removeQueue(t)},_addToQueue:function(t){this._queue=l(this._queue,[t])},_addToCur:function(t){if(this._active){if(!t._alive)return t._currentEvent&&this._emit(t._currentEvent.type,t._currentEvent.value),void(this._active&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()));this._currentlyAdding=t,t.onAny(this._$handleSubAny),this._currentlyAdding=null,t._alive?(this._curSources=l(this._curSources,[t]),this._active&&this._subToEnd(t)):0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()}else this._curSources=l(this._curSources,[t])},_subToEnd:function(t){var n=this,e=function(){return n._removeCur(t)};this._$endHandlers.push({obs:t,handler:e}),t.onEnd(e)},_subscribe:function(t){t.onAny(this._$handleSubAny),this._active&&this._subToEnd(t)},_unsubscribe:function(t){t.offAny(this._$handleSubAny);var n=_(this._$endHandlers,(function(n){return n.obs===t}));-1!==n&&(t.offEnd(this._$endHandlers[n].handler),this._$endHandlers.splice(n,1))},_handleSubAny:function(t){t.type===u?this._emitValue(t.value):t.type===a&&this._emitError(t.value)},_removeQueue:function(t){var n=f(this._queue,t);return this._queue=d(this._queue,n),n},_removeCur:function(t){this._active&&this._unsubscribe(t);var n=f(this._curSources,t);return this._curSources=d(this._curSources,n),-1!==n&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()),n},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=c(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var t=0,n=this._curSources;t<n.length&&this._active;t++)this._subscribe(n[t])},_onDeactivation:function(){for(var t=0,n=this._curSources;t<n.length;t++)this._unsubscribe(n[t]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){E.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),r(Wn,Bn,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}}),r(Fn,E,{_name:"repeat",_handleAny:function(t){t.type===s?(this._source=null,this._getSource()):this._emit(t.type,t.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var t=this._generator;null===this._source&&this._alive&&this._active;)this._source=t(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){E.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}});var Qn=function(t){return new Fn(t)};function Yn(t){return Qn((function(n){return t.length>n&&t[n]})).setName("concat")}function Zn(){Bn.call(this)}function zn(t,n,e){var i=this;Bn.call(this,e),this._source=t,this._fn=n,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(t){return i._handleMain(t)}}function Kn(t,n){zn.call(this,t,n)}function Xn(t,n){return function(e,i,r){var s=this;t.call(this),this._primary=e,this._secondary=i,this._name=e._name+"."+n,this._lastSecondary=o,this._$handleSecondaryAny=function(t){return s._handleSecondaryAny(t)},this._$handlePrimaryAny=function(t){return s._handlePrimaryAny(t)},this._init(r)}}function Gn(t){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(t){this._emitValue(t)},_handlePrimaryError:function(t){this._emitError(t)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(t){this._lastSecondary=t},_handleSecondaryError:function(t){this._emitError(t)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(t){switch(t.type){case u:return this._handlePrimaryValue(t.value);case a:return this._handlePrimaryError(t.value);case s:return this._handlePrimaryEnd(t.value)}},_handleSecondaryAny:function(t){switch(t.type){case u:return this._handleSecondaryValue(t.value);case a:return this._handleSecondaryError(t.value);case s:this._handleSecondaryEnd(t.value),this._removeSecondary()}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){t.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function Jn(t,n){var e=Xn(E,t);return r(e,E,Gn(E),n),e}function te(t,n){var e=Xn(g,t);return r(e,g,Gn(g),n),e}r(Zn,Bn,{_name:"pool",plug:function(t){return this._add(t),this},unplug:function(t){return this._remove(t),this}}),r(zn,Bn,{_onActivation:function(){Bn.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){Bn.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(t){t.type===u&&(this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1),t.type===a&&this._emitError(t.value),t.type===s&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){Bn.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),r(Kn,zn,{_handleMain:function(t){t.type===a&&(this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1),t.type===u&&this._emitValue(t.value),t.type===s&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});var ne={_handlePrimaryValue:function(t){this._lastSecondary!==o&&this._lastSecondary&&this._emitValue(t)},_handleSecondaryEnd:function(){this._lastSecondary!==o&&this._lastSecondary||this._emitEnd()}},ee=Jn("filterBy",ne),ie=te("filterBy",ne),re=function(t,n){return n},oe={_handlePrimaryValue:function(t){this._lastSecondary!==o&&this._emitValue(t)},_handleSecondaryEnd:function(){this._lastSecondary===o&&this._emitEnd()}},se=Jn("skipUntilBy",oe),ue=te("skipUntilBy",oe),ae={_handleSecondaryValue:function(){this._emitEnd()}},he=Jn("takeUntilBy",ae),le=te("takeUntilBy",ae),fe={_init:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).flushOnEnd,n=void 0===t||t;this._buff=[],this._flushOnEnd=n},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(t){this._buff.push(t)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},_e=Jn("bufferBy",fe),ce=te("bufferBy",fe),de={_init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.flushOnEnd,e=void 0===n||n,i=t.flushOnChange,r=void 0!==i&&i;this._buff=[],this._flushOnEnd=e,this._flushOnChange=r},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(t){this._buff.push(t),this._lastSecondary===o||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._lastSecondary!==o&&!this._lastSecondary||this._emitEnd()},_handleSecondaryValue:function(t){this._flushOnChange&&!t&&this._flush(),this._lastSecondary=t}},ve=Jn("bufferWhileBy",de),pe=te("bufferWhileBy",de),me=function(){return!1},ye=function(){return!0},Ee={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=(0,this._fn)(t);n.convert?this._emitError(n.error):this._emitValue(t)}},ge=j("valuesToErrors",Ee),be=H("valuesToErrors",Ee),we=function(t){return{convert:!0,error:t}},Se={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleError:function(t){var n=(0,this._fn)(t);n.convert?this._emitValue(n.value):this._emitError(t)}},Ae=j("errorsToValues",Se),Te=H("errorsToValues",Se),Ve=function(t){return{convert:!0,value:t}},Oe={_handleError:function(t){this._emitError(t),this._emitEnd()}},Ce=j("endOnError",Oe),$e=H("endOnError",Oe);y.prototype.toProperty=function(t){return B(this,t)},y.prototype.changes=function(){return new W(this)},y.prototype.toPromise=function(t){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q(),e=null;return new n((function(n,i){t.onAny((function(t){t.type===s&&null!==e?((e.type===u?n:i)(e.value),e=null):e=t}))}))}(this,t)},y.prototype.toESObservable=Z,y.prototype[Q]=Z,y.prototype.map=function(t){return rt(this,t)},y.prototype.filter=function(t){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:at;return new(t._ofSameType(st,ut))(t,{fn:n})}(this,t)},y.prototype.take=function(t){return function(t,n){return new(t._ofSameType(lt,ft))(t,{n})}(this,t)},y.prototype.takeErrors=function(t){return function(t,n){return new(t._ofSameType(ct,dt))(t,{n})}(this,t)},y.prototype.takeWhile=function(t){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yt;return new(t._ofSameType(pt,mt))(t,{fn:n})}(this,t)},y.prototype.last=function(){return new((t=this)._ofSameType(gt,bt))(t);var t},y.prototype.skip=function(t){return function(t,n){return new(t._ofSameType(St,At))(t,{n})}(this,t)},y.prototype.skipWhile=function(t){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ct;return new(t._ofSameType(Vt,Ot))(t,{fn:n})}(this,t)},y.prototype.skipDuplicates=function(t){return xt(this,t)},y.prototype.diff=function(t,n){return function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return new(t._ofSameType(Dt,Nt))(t,{fn:n||Rt,seed:e})}(this,t,n)},y.prototype.scan=function(t,n){return function(t,n){return new Mt(t,{fn:n,seed:arguments.length>2&&void 0!==arguments[2]?arguments[2]:o})}(this,t,n)},y.prototype.flatten=function(t){return function(t){return new jt(t,{fn:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ht})}(this,t)},y.prototype.delay=function(t){return function(t,n){return new(t._ofSameType(Wt,qt))(t,{wait:n})}(this,t)},y.prototype.throttle=function(t,n){return function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.leading,r=void 0===i||i,o=e.trailing,s=void 0===o||o;return new(t._ofSameType(Yt,Zt))(t,{wait:n,leading:r,trailing:s})}(this,t,n)},y.prototype.debounce=function(t,n){return function(t,n){var e=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).immediate,i=void 0!==e&&e;return new(t._ofSameType(Kt,Xt))(t,{wait:n,immediate:i})}(this,t,n)},y.prototype.mapErrors=function(t){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nn;return new(t._ofSameType(Jt,tn))(t,{fn:n})}(this,t)},y.prototype.filterErrors=function(t){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sn;return new(t._ofSameType(rn,on))(t,{fn:n})}(this,t)},y.prototype.ignoreValues=function(){return new((t=this)._ofSameType(an,hn))(t);var t},y.prototype.ignoreErrors=function(){return new((t=this)._ofSameType(fn,_n))(t);var t},y.prototype.ignoreEnd=function(){return new((t=this)._ofSameType(dn,vn))(t);var t},y.prototype.beforeEnd=function(t){return function(t,n){return new(t._ofSameType(mn,yn))(t,{fn:n})}(this,t)},y.prototype.slidingWindow=function(t,n){return function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new(t._ofSameType(gn,bn))(t,{min:e,max:n})}(this,t,n)},y.prototype.bufferWhile=function(t,n){return function(t,n){var e=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).flushOnEnd,i=void 0===e||e;return new(t._ofSameType(Sn,An))(t,{fn:n||Tn,flushOnEnd:i})}(this,t,n)},y.prototype.bufferWithCount=function(t,n){return function(t,n){var e=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).flushOnEnd,i=void 0===e||e;return new(t._ofSameType(On,Cn))(t,{count:n,flushOnEnd:i})}(this,t,n)},y.prototype.bufferWithTimeOrCount=function(t,n,e){return function(t,n,e){var i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).flushOnEnd,r=void 0===i||i;return new(t._ofSameType(In,Pn))(t,{wait:n,count:e,flushOnEnd:r})}(this,t,n,e)},y.prototype.transduce=function(t){return function(t,n){return new(t._ofSameType(xn,Ln))(t,{transducer:n})}(this,t)},y.prototype.withHandler=function(t){return function(t,n){return new(t._ofSameType(Nn,Rn))(t,{fn:n})}(this,t)},y.prototype.thru=function(t){return t(this)},y.prototype.combine=function(t,n){return X([this,t],n)},y.prototype.zip=function(t,n){return Hn([this,t],n)},y.prototype.merge=function(t){return qn([this,t])},y.prototype.concat=function(t){return Yn([this,t])},y.prototype.flatMap=function(t){return new zn(this,t).setName(this,"flatMap")},y.prototype.flatMapLatest=function(t){return new zn(this,t,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},y.prototype.flatMapFirst=function(t){return new zn(this,t,{concurLim:1}).setName(this,"flatMapFirst")},y.prototype.flatMapConcat=function(t){return new zn(this,t,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},y.prototype.flatMapConcurLimit=function(t,n){return new zn(this,t,{queueLim:-1,concurLim:n}).setName(this,"flatMapConcurLimit")},y.prototype.flatMapErrors=function(t){return new Kn(this,t).setName(this,"flatMapErrors")},y.prototype.filterBy=function(t){return e=t,new((n=this)._ofSameType(ee,ie))(n,e);var n,e},y.prototype.sampledBy=function(t,n){return function(t,n,e){return X([n],[t],e?function(t,n){return e(n,t)}:re).setName(t,"sampledBy")}(this,t,n)},y.prototype.skipUntilBy=function(t){return e=t,new((n=this)._ofSameType(se,ue))(n,e);var n,e},y.prototype.takeUntilBy=function(t){return e=t,new((n=this)._ofSameType(he,le))(n,e);var n,e},y.prototype.bufferBy=function(t,n){return function(t,n,e){return new(t._ofSameType(_e,ce))(t,n,e)}(this,t,n)},y.prototype.bufferWhileBy=function(t,n){return function(t,n,e){return new(t._ofSameType(ve,pe))(t,n,e)}(this,t,n)};var Ie=!0;function Pe(t){Ie&&console&&"function"==typeof console.warn&&console.warn(t,"\nHere is an Error object for you containing the call stack:",new Error)}y.prototype.awaiting=function(t){return Pe("You are using deprecated .awaiting() method, see https://github.com/kefirjs/kefir/issues/145"),function(t,n){var e=qn([rt(t,ye),rt(n,me)]);return(e=B(e=xt(e),me)).setName(t,"awaiting")}(this,t)},y.prototype.valuesToErrors=function(t){return Pe("You are using deprecated .valuesToErrors() method, see https://github.com/kefirjs/kefir/issues/149"),function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we;return new(t._ofSameType(ge,be))(t,{fn:n})}(this,t)},y.prototype.errorsToValues=function(t){return Pe("You are using deprecated .errorsToValues() method, see https://github.com/kefirjs/kefir/issues/149"),function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ve;return new(t._ofSameType(Ae,Te))(t,{fn:n})}(this,t)},y.prototype.endOnError=function(){return Pe("You are using deprecated .endOnError() method, see https://github.com/kefirjs/kefir/issues/150"),new((t=this)._ofSameType(Ce,$e))(t);var t};var ke={Observable:y,Stream:E,Property:g,never:w,later:function(t,n){return new A(t,{x:n})},interval:function(t,n){return new T(t,{x:n})},sequentially:function(t,n){return 0===n.length?w():new V(t,{xs:n})},fromPoll:function(t,n){return new O(t,{fn:n})},withInterval:function(t,n){return new $(t,{fn:n})},fromCallback:function(t){var n=!1;return P((function(e){n||(t((function(t){e.emit(t),e.end()})),n=!0)})).setName("fromCallback")},fromNodeCallback:function(t){var n=!1;return P((function(e){n||(t((function(t,n){t?e.error(t):e.emit(n),e.end()})),n=!0)})).setName("fromNodeCallback")},fromEvents:function(t,n,e){for(var i=void 0,r=void 0,o=0;o<x.length;o++)if("function"==typeof t[x[o][0]]&&"function"==typeof t[x[o][1]]){i=x[o][0],r=x[o][1];break}if(void 0===i)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return function(t,n,e){return P((function(i){var r=e?function(){i.emit(function(t,n,e){var i=e?e.length:0;if(null!=n)return 0===i?t.call(n):t.apply(n,e);switch(i){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);default:return t.apply(null,e)}}(e,this,arguments))}:function(t){i.emit(t)};return t(r),function(){return n(r)}})).setName("fromSubUnsub")}((function(e){return t[i](n,e)}),(function(e){return t[r](n,e)}),e).setName("fromEvents")},stream:P,constant:D,constantError:function(t){return new N(t)},fromPromise:function(t){var n=!1,e=P((function(e){if(!n){var i=t.then((function(t){e.emit(t),e.end()}),(function(t){e.error(t),e.end()}));i&&"function"==typeof i.done&&i.done(),n=!0}}));return B(e,null).setName("fromPromise")},fromESObservable:function(t){var n=t[Q]?t[Q]():t;return P((function(t){var e=n.subscribe({error:function(n){t.error(n),t.end()},next:function(n){t.emit(n)},complete:function(){t.end()}});return e.unsubscribe?function(){e.unsubscribe()}:e})).setName("fromESObservable")},combine:X,zip:Hn,merge:qn,concat:Yn,Pool:Zn,pool:function(){return new Zn},repeat:Qn,staticLand:J};ke.Kefir=ke;const xe=ke}},n={};function e(i){var r=n[i];if(void 0!==r)return r.exports;var o=n[i]={id:i,loaded:!1,exports:{}};return t[i](o,o.exports,e),o.loaded=!0,o.exports}e.d=(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{function t(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}e.r(i),e.d(i,{create:()=>T,filterSetAction:()=>g,filtersActiveSelector:()=>P,notificationAction:()=>O,todosAddAction:()=>v,todosAllSelector:()=>C,todosCompletedAllSelector:()=>$,todosCompletedToggleAction:()=>l,todosDeleteAction:()=>_,todosIncompleteAllSelector:()=>I});var n="function"==typeof Symbol&&Symbol.observable||"@@observable",r=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+r(),REPLACE:"@@redux/REPLACE"+r(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+r()}};function s(e,i,r){var u;if("function"==typeof i&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(t(0));if("function"==typeof i&&void 0===r&&(r=i,i=void 0),void 0!==r){if("function"!=typeof r)throw new Error(t(1));return r(s)(e,i)}if("function"!=typeof e)throw new Error(t(2));var a=e,h=i,l=[],f=l,_=!1;function c(){f===l&&(f=l.slice())}function d(){if(_)throw new Error(t(3));return h}function v(n){if("function"!=typeof n)throw new Error(t(4));if(_)throw new Error(t(5));var e=!0;return c(),f.push(n),function(){if(e){if(_)throw new Error(t(6));e=!1,c();var i=f.indexOf(n);f.splice(i,1),l=null}}}function p(n){if(!function(t){if("object"!=typeof t||null===t)return!1;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}(n))throw new Error(t(7));if(void 0===n.type)throw new Error(t(8));if(_)throw new Error(t(9));try{_=!0,h=a(h,n)}finally{_=!1}for(var e=l=f,i=0;i<e.length;i++)(0,e[i])();return n}return p({type:o.INIT}),(u={dispatch:p,subscribe:v,getState:d,replaceReducer:function(n){if("function"!=typeof n)throw new Error(t(10));a=n,p({type:o.REPLACE})}})[n]=function(){var e,i=v;return(e={subscribe:function(n){if("object"!=typeof n||null===n)throw new Error(t(11));function e(){n.next&&n.next(d())}return e(),{unsubscribe:i(e)}}})[n]=function(){return this},e},u}var u=e(609);const a=(...t)=>(...n)=>u.ZP.merge(t.map((function(t){var e=t.apply(null,n);if(!e)throw new TypeError(`combineReactions: one of the provided reactions ${t.name||"<anonymous>"} does not return a stream. Double check you're not missing a return statement!`);return e})));const h="TODOS_COMPLETED_TOGGLE";function l(t){return{type:h,payload:t}}const f="TODOS_DELETE";function _(t){return{type:f,payload:t}}const c=(t,n)=>{if(!n)throw new Error("ERROR - NO STORE");return t.filter((({type:t})=>t===h)).map((t=>_(t.payload)))},d="TODOS_ADD";function v(t=""){return{type:d,payload:{content:t}}}const p="TODOS_REDUCER",m={last_id:0,todos:{}};function y(t=m,n={}){switch(n.type){case d:{const{content:e}=n.payload,i=t.last_id+1;return{...t,last_id:i,todos:{...t.todos,[i]:{content:e,completed:!1}}}}case f:{const e=n.payload;if(t.todos.hasOwnProperty(`${e}`)){const{[e]:n,...i}=t.todos;return{...t,all_ids:new_all_ids,todos:i}}return t}case h:{const e=n.payload;return t.todos.hasOwnProperty(`${e}`)?{...t,todos:{...t.todos,[e]:{...t.todos[e],completed:!t.todos[e].completed}}}:t}default:return t}}const E="FILTER_SET";function g(t){return{type:E,payload:{filter:t}}}const b="FILTERS_REDUCER",w={filter:"all"},S={all:"all",completed:"completed",incomplete:"incomplete"};function A(t=w,n={}){return n.type===E&&S.hasOwnProperty(n.payload.filter)?{filter:n.payload.filter}:t}function T(){const n=a(c),e=(l=u.ZP.stream((function(t){h=t})),{enhancer:t=>(n,e,i)=>{const r=t(n,e,i),o=function(t){return u.ZP.stream((function(n){var e=t.subscribe((function(){setTimeout((function(){n.emit(t.getState())}))}));return n.emit(t.getState()),function(){e()}})).toProperty()}(r),s=r.dispatch;return{...r,dispatch:t=>{var n=s(t);return h.emit(t),n},state_s:o}},plugReaction:t=>{const n=u.ZP.pool();return n.onValue(t.dispatch),e=>{const i=e(l,{getState:t.getState,state_s:t.state_s});if(!i)throw new TypeError(`Your reaction ${e.name||"<anonymous>"} does not return a stream. Double check you're not missing a return statement!`);return n.plug(i)&&(()=>n.unplug(i))}}}),i=s(function(n){for(var e=Object.keys(n),i={},r=0;r<e.length;r++){var s=e[r];"function"==typeof n[s]&&(i[s]=n[s])}var u,a=Object.keys(i);try{!function(n){Object.keys(n).forEach((function(e){var i=n[e];if(void 0===i(void 0,{type:o.INIT}))throw new Error(t(12));if(void 0===i(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error(t(13))}))}(i)}catch(t){u=t}return function(n,e){if(void 0===n&&(n={}),u)throw u;for(var r=!1,o={},s=0;s<a.length;s++){var h=a[s],l=i[h],f=n[h],_=l(f,e);if(void 0===_)throw e&&e.type,new Error(t(14));o[h]=_,r=r||_!==f}return(r=r||a.length!==Object.keys(n).length)?o:n}}({[p]:y,[b]:A}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),r=e.plugReaction(i);var h,l;return r(n),{...i,plugReaction:r}}const V="NOTIFICATION";function O(t=""){return{type:V,payload:t}}function C(t={}){if(t.hasOwnProperty("TODOS_REDUCER")&&t.TODOS_REDUCER.hasOwnProperty("todos"))return t.TODOS_REDUCER.todos}function $(t={}){const n=t?.TODOS_REDUCER?.todos;if(n)return Object.entries(n).filter((([t,n])=>n.completed)).reduce(((t,[n,e])=>(t[n]=e,t)),{})}function I(t={}){const n=t?.TODOS_REDUCER?.todos;if(n)return Object.entries(n).filter((([t,n])=>!n.completed)).reduce(((t,[n,e])=>(t[n]=e,t)),{})}function P(t={}){if(t.hasOwnProperty("FILTERS_REDUCER")&&t.FILTERS_REDUCER.hasOwnProperty("filter"))return t.FILTERS_REDUCER.filter}})(),todo_store=i})();